# Book Plan

**Title:** The Invisible Users: Designing the Web for AI Agents and Everyone Else

**Author:** Tom Cranstoun

**Target Length:** 30,000-50,000 words

**Current Status:** Complete ✅ (~39,500 words)

---

## Thesis

The patterns that break AI agents also break humans. Toast notifications that vanish, pagination hiding content, single-page applications with invisible state changes — these have been creating accessibility problems for years. Now AI agents are struggling with the same patterns, and there's commercial pressure to fix them.

This book explores the technical, business, ethical, and human implications of this collision, and provides practical solutions that work for both humans and machines.

---

## Chapter Summary

| Chapter | Title | Words | Status |
| ------- | ----- | ----- | ------ |
| 1 | What You Will Learn | ~2,700 | ✅ Complete |
| 2 | The Invisible Failure | ~3,800 | ✅ Complete |
| 3 | The Architectural Conflict | ~3,700 | ✅ Complete |
| 4 | The Business Reality | ~4,200 | ✅ Complete |
| 5 | The Content Creator's Dilemma | ~4,100 | ✅ Complete |
| 6 | The Security Maze | ~3,500 | ✅ Complete |
| 7 | The Legal Landscape | ~3,200 | ✅ Complete |
| 8 | The Human Cost | ~3,300 | ✅ Complete |
| 9 | Designing for Both | ~4,400 | ✅ Complete |
| 10 | Technical Advice | ~6,600 | ✅ Complete |

**Total:** ~39,500 words

---

## Chapter Outlines

### Chapter 1 — What You Will Learn

Introduction and the accessibility connection.

**Sections:**

- The agent that couldn't find the checkout button
- What this book covers (and doesn't)
- The accessibility parallel
- Who should read this
- How the book is structured
- The urgency of now

---

### Chapter 2 — The Invisible Failure

When websites break for AI agents.

**Sections:**

- The booking that never happened
- What agents actually see
- The five types of invisible failure
- Why developers don't notice
- The feedback loop that doesn't exist
- Measuring what you can't see

---

### Chapter 3 — The Architectural Conflict

How modern web architecture creates the problem.

**Sections:**

- The JavaScript execution problem
- Single-page applications and state management
- The hydration gap
- API-first versus page-first
- The mobile app parallel
- Progressive enhancement revisited
- Headless CMS and the missing context
- Server-side rendering for agents

---

### Chapter 4 — The Business Reality

The commercial implications of agent-mediated commerce.

**Sections:**

- When agents make purchases
- The brand visibility problem
- The price comparison acceleration
- The recommendation influence
- The customer relationship question
- Identity delegation patterns (brief)
- Who wins, who loses
- The small business perspective

---

### Chapter 5 — The Content Creator's Dilemma

How AI consumption threatens existing business models.

**Sections:**

- The attention economy under pressure
- When summarisation replaces visiting
- The advertising model collision
- The subscription alternative
- The micropayment dream
- What content creators can do now
- The uncomfortable middle ground
- Emerging licensing models

---

### Chapter 6 — The Security Maze

Security implications of AI agents acting on user behalf.

**Sections:**

- The session inheritance problem (key insight)
- When agents inherit authentication
- The bank that couldn't tell
- Liability questions without answers
- Agent identification challenges
- The verification paradox
- Rate limiting and abuse
- What security teams should consider

---

### Chapter 7 — The Legal Landscape

Legal frameworks struggling to keep pace.

**Sections:**

- Agency law meets AI agents
- Terms of service and automated access
- Copyright in the age of extraction
- Data protection complications
- The consent problem
- Cross-border enforcement
- What might change
- Practical legal considerations

---

### Chapter 8 — The Human Cost

The digital divide implications.

**Sections:**

- The access problem (who has agents, who doesn't)
- The capability gap
- The language exclusion (English dominance)
- The age divide
- The disability question (benefits and harms)
- The education gap
- The economic divide
- Geographic and language complications
- What can be done (maintain human interfaces, support access, regulate)
- The uncomfortable reality about technology transitions

---

### Chapter 9 — Designing for Both

Solutions that work for agents without degrading human experience. The convergence argument.

**Sections:**

- Clear state instead of implied state
- Persistent errors instead of ephemeral ones
- Explicit feedback instead of subtle cues
- Complete information instead of forced pagination
- Semantic structure and JSON-LD
- Advertising your API with meta tags
- Identity delegation patterns (brief)
- Real examples of good design (Stripe, GitHub, Amazon, Calendly, Wikipedia)
- The small business version
- What good looks like at different scales
- The standards that might emerge
- Success stories and patterns

---

### Chapter 10 — Technical Advice

Implementation code, testing strategies, and practical tools.

**Note:** Contains simplified, readable code examples optimised for learning.

**Sections:**

- Detection layer (client-side and server-side)
- Dual-interface architecture
- Agent-friendly form patterns
- Synchronous validation
- Agent-readable metadata layer
- Loading state clarity
- Traditional multi-page alternatives to SPAs
- Persistent error display
- CSS for disabling animations
- Analytics segmentation
- Honeypot fields
- Rate limiting by type
- API alternatives
- Identity delegation (basic pattern)
- Testing for agent compatibility
- Debugging agent failures
- Version management and breaking changes
- Design Patterns Reference (10 patterns)
- Common Mistakes to Avoid (6 mistakes)
- Implementation by Scale

---

## Supporting Materials

### Core Documentation

| Material | Status | Description |
| -------- | ------ | ----------- |
| README.md | ✅ | Project overview |
| CLAUDE.md | ✅ | AI assistant guidance |
| book-plan.md | ✅ | This file |
| book-svg-style.md | ✅ | SVG illustration specifications |
| CHANGELOG.md | ✅ | Version history |
| LEARNINGS.md | ✅ | Actionable guidance for AI assistants |
| PROJECTSTATE.md | ✅ | Current implementation status |

### Illustrations

All 10 chapter illustrations complete ✅

1. Chapter 1 — "Same Website, Different Reality"
2. Chapter 2 — "The Anatomy of Invisible Failure"
3. Chapter 3 — "The Architectural Conflict"
4. Chapter 4 — "The Business Model Collision"
5. Chapter 5 — "The Content Creator's Dilemma"
6. Chapter 6 — "The Security Maze"
7. Chapter 7 — "The Legal Landscape"
8. Chapter 8 — "The Human Cost"
9. Chapter 9 — "Designing for Both"
10. Chapter 10 — "Technical Advice"

### Reference Materials

| Material | Status | Description |
| -------- | ------ | ----------- |
| Glossary.md | ✅ | 60+ technical terms with cross-references |
| implementation-checklist.md | ✅ | Time-based implementation roadmap |
| resource-links.md | ✅ | 150+ curated resources by category |
| cover-design.svg | ✅ | Professional book cover (600×900) |

### Promotional Materials

| Material | Status | Description |
| -------- | ------ | ----------- |
| pitch.md | ✅ | Technical pitch |
| blog.md | ✅ | Broad-appeal blog post (~3,000 words) |
| blog.svg | ✅ | Visual illustration (900×600) |

### Standalone Guides

| Material | Status | Words | Description |
| -------- | ------ | ----- | ----------- |
| advice.md | ✅ | ~8,400 | Comprehensive prescriptive guide for building AI-friendly HTML |
| for-ai.md | ✅ | ~1,200 | Concise HTML patterns reference for AI assistants |
| updates.md | ✅ | ~800 | Session changelog documenting advice.md expansion |

---

## advice.md Structure

The standalone prescriptive guide has 12 parts:

1. **Quick Reference Tables** — HTTP status codes, form field names, date formats, data attributes
2. **Simple HTML Patterns** — Authentication state, explicit state, persistent errors, tables
3. **Form Patterns** — Disabled buttons, validation, multi-step wizards, modals
4. **Page Structure Patterns** — Navigation, breadcrumbs, search, filtering, pagination, cart, confirmation, currency, shipping
5. **Structured Data** — Schema.org reference, llms.txt template, robots.txt/sitemap.xml relationship
6. **Why Modern Architecture Confuses AI** — JavaScript execution, context separation, SSR, progressive enhancement
7. **Server-Side Patterns** — Agent detection, cookie consent, captcha, traditional HTTP, rate limiting, error handling
8. **Complete Examples** — Small business template, e-commerce product page
9. **Testing and Validation** — Playwright tests (14 tests), validation tools
10. **Implementation Priority** — Immediate through quarterly roadmap
11. **Why This Matters** — Accessibility connection
12. **Building for AI Development Assistants** — Skills pattern, semantic folders, modification boundaries

---

## Key Concepts

### The Convergence Principle

What AI agents need is mostly what everyone needs. Solutions that work for agents typically improve experiences for users with accessibility needs, people with ADHD, stressed parents, and others.

### Session Inheritance Problem

Key security insight (Chapter 6): In-browser agents inherit authenticated sessions rather than failing to authenticate. Banks cannot detect AI involvement because agents inherit proof-of-humanity tokens from the authenticated user's session.

### Identity Delegation

When agents make purchases, businesses lose customer identity. Mentioned briefly as one emerging solution pattern. Multiple approaches acknowledged (retailer-specific tokens, centralised repositories, blockchain attestations, browser-native delegation). Detailed technical specification moved to separate identity-layer repository.

---

## Writing Standards

- British English throughout
- First-person narrative voice
- No colons in chapter titles
- Short dashes only
- Avoid exaggeration words
- Follow Writing_Style_V2 guidelines
- All SVG illustrations use white (#ffffff) backgrounds
- Git commits without attribution

---

## Source Materials

Content for advice.md drawn from:

1. llmstxt.org specification
2. "Creating an llms.txt File" — allabout.network
3. "You Built Software for Humans, Now Build It for AI" — allabout.network
4. "Why Modern Web Architecture Confuses AI" — allabout.network
5. "AI Optimization Update" — allabout.network

---

## Development Process

1. Draft chapter content
2. User reviews and provides feedback
3. Revise until approved
4. Create chapter artefact (markdown)
5. Design and create SVG illustration
6. Move to next chapter
7. Final consistency pass when all chapters complete

---

## Version History

| Version | Date | Changes |
| ------- | ---- | ------- |
| 1.0.0 | 2025-12-22 | Complete manuscript (10 chapters, ~39,500 words) |
| 2.0.0 | 2025-12-23 | Identity layer expansion (centralised repository concept) |
| 3.0.0 | 2025-12-24 | Identity layer reduction (moved to separate repository) |
| 3.1.0 | 2025-12-24 | Design Patterns Reference added to Chapter 10, advice.md created |
| 3.2.0 | 2025-12-25 | advice.md expanded to ~8,400 words with 12 parts, for-ai.md created |

---

## Repository Structure

```text
/
├── README.md
├── CLAUDE.md
├── CHANGELOG.md
├── LEARNINGS.md
├── PROJECTSTATE.md
├── book-plan.md
├── book-svg-style.md
├── package.json
├── chapter-01-*.md through chapter-10-*.md
├── illustrations/
│   └── chapter-01-*.svg through chapter-10-*.svg
├── Glossary.md
├── implementation-checklist.md
├── cover-design.svg
├── resource-links.md
├── pitch.md
├── blog.md
├── blog.svg
├── advice.md                    # Standalone prescriptive guide (~8,400 words)
├── for-ai.md                    # AI assistant HTML reference (~1,200 words)
├── updates.md                   # Session changelog
└── code-examples/
    ├── README.md
    ├── chapter-09/
    ├── chapter-10/
    ├── testing/
    └── package.json
```

---

## Licence

Copyright © Tom Cranstoun. All rights reserved.

This manuscript is not licensed for public use, reproduction, or distribution.

---

**Last updated:** 2025-12-25 — advice.md expanded to comprehensive 12-part guide
